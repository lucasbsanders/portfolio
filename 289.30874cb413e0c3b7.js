"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[289],{289:(Q,u,k)=>{k.r(u),k.d(u,{default:()=>F});var p=k(6814),e=k(9212);const S=["content"],x=["checkersBoard"],f=(r,s,c,o)=>({"height.px":r,"width.px":s,"top.px":c,"left.px":o});function w(r,s){if(1&r&&e._UZ(0,"span",13),2&r){const c=s.$implicit,o=e.oxw();e.Q6J("ngStyle",e.l5B(1,f,o.boardSizePx/8,o.boardSizePx/8,c[0]*o.boardSizePx/8,c[1]*o.boardSizePx/8))}}function z(r,s){1&r&&e.GkF(0)}const _=r=>({checker:r});function O(r,s){if(1&r&&(e.ynx(0),e.YNc(1,z,1,0,"ng-container",14),e.BQk()),2&r){const c=s.$implicit;e.oxw();const o=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,_,c))}}function R(r,s){1&r&&e.GkF(0)}function v(r,s){if(1&r&&(e.ynx(0),e.YNc(1,R,1,0,"ng-container",14),e.BQk()),2&r){const c=s.$implicit;e.oxw();const o=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,_,c))}}const T=(r,s,c)=>({"border-l border-white":r,"bg-slate-200":s,"bg-white":c});function B(r,s){if(1&r&&e._UZ(0,"div",17),2&r){const c=s.index,o=e.oxw().index;e.Q6J("id",o+","+c)("ngClass",e.kEZ(2,T,c>0,(o+c)%2==0,(o+c)%2==1))}}const Z=r=>({"border-t border-white":r});function y(r,s){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,B,1,6,"div",16),e.qZA()),2&r){const c=s.index,o=e.oxw();e.Q6J("ngClass",e.VKq(2,Z,c>0)),e.xp6(1),e.Q6J("ngForOf",o.BOARD_SIZE_ARR)}}function P(r,s){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const c=s.$implicit;e.xp6(1),e.hij(" ",("b"===c.color?"Black: ":"Red: ")+"("+(c.startRow+1)+", "+(c.startCol+1)+") to ("+(c.endRow+1)+", "+(c.endCol+1)+")"," ")}}const M=(r,s,c)=>({"opacity-50":r,"checker-red":s,"checker-black":c}),g=(r,s)=>({"height.px":r,"width.px":s});function E(r,s){if(1&r){const c=e.EpF();e.TgZ(0,"span",18),e.NdJ("mousedown",function(t){const n=e.CHM(c).checker,h=e.oxw();return e.KtG(h.clickChecker(t,n.row,n.col))})("touchstart",function(t){const n=e.CHM(c).checker,h=e.oxw();return e.KtG(h.clickChecker(t,n.row,n.col))}),e._UZ(1,"span",6),e.qZA()}if(2&r){const c=s.checker,o=e.oxw();e.Q6J("ngStyle",e.l5B(3,f,o.checkerSize,o.checkerSize,c.row*o.checkerSize/.9+.08*o.checkerSize,c.col*o.checkerSize/.9+.08*o.checkerSize))("ngClass",e.kEZ(8,M,(null==o.selectedChecker?null:o.selectedChecker.id)===c.id,"r"===c.color,"b"===c.color)),e.xp6(1),e.Q6J("ngStyle",e.WLB(12,g,o.checkerSize,o.checkerSize))}}const A=(r,s,c,o)=>({"height.px":r,"width.px":s,"left.px":c,"top.px":o}),D=(r,s,c)=>({"checker-black":r,"checker-red":s,hidden:c}),C={reds:[[0,0],[0,2],[0,4],[0,6],[1,1],[1,3],[1,5],[1,7],[2,0],[2,2],[2,4],[2,6]],blacks:[[5,1],[5,3],[5,5],[5,7],[6,0],[6,2],[6,4],[6,6],[7,1],[7,3],[7,5],[7,7]]},F=[{path:"",redirectTo:"checkers",pathMatch:"full"},{path:"checkers",component:(()=>{class r{get currentTurnColor(){return this.board.currentTurn}get checkerSize(){return this.boardSizePx/8*.9}constructor(){this.BOARD_SIZE=8,this.BOARD_SIZE_ARR=new Array(this.BOARD_SIZE),this.boardSizePx=0,this.offsetLeft=0,this.offsetTop=0,this.selectedCheckerX=0,this.selectedCheckerY=0,this.hoverSpace=[],this.eligibleSpaces=[],this._elementWidth=0,this.board={currentTurn:"r",reds:[],blacks:[],turns:[]}}ngOnInit(){this._startNewGame()}ngAfterViewChecked(){this.contentRef&&this._elementWidth!==this.contentRef?.nativeElement.offsetWidth&&(this._elementWidth=this.contentRef?.nativeElement.offsetWidth,setTimeout(()=>{0===this.boardSizePx&&(this.boardSizePx=this._elementWidth<700?this._elementWidth-48:this._elementWidth/2),console.log(this._elementWidth),console.log(this.boardSizePx),console.log(this.checkerSize)}))}clickChecker(c,o,t){c.preventDefault();const i=this._getChecker(o,t);if(!i||this.currentTurnColor!==i.color||!this.checkersBoardRef||(this.eligibleSpaces=this._getEligibleSpaces(i),!this.eligibleSpaces?.length))return;this.selectedChecker=i,this.offsetTop=this.checkersBoardRef.nativeElement.getBoundingClientRect().top+document.documentElement.scrollTop,this.offsetLeft=this.checkersBoardRef.nativeElement.getBoundingClientRect().left+document.documentElement.scrollLeft,this.selectedCheckerX=Math.min(Math.max((c.clientX??c.touches[0].clientX)-this.offsetLeft-this.checkerSize/2,4),this.boardSizePx-this.checkerSize-4),this.selectedCheckerY=Math.min(Math.max((c.clientY??c.touches[0].clientY)-this.offsetTop-this.checkerSize/2,4),this.boardSizePx-this.checkerSize-4);const n=Math.floor((this.selectedCheckerX+this.checkerSize/2)/this.boardSizePx*this.BOARD_SIZE),h=Math.floor((this.selectedCheckerY+this.checkerSize/2)/this.boardSizePx*this.BOARD_SIZE);this.hoverSpace=[n,h];const m=l=>{if(this.eligibleSpaces.find(([a,d])=>d===this.hoverSpace[0]&&a===this.hoverSpace[1])){if(console.log("dropped at "+this.hoverSpace[0]+", "+this.hoverSpace[1]),this.board.turns.push({color:this.selectedChecker.color,startCol:this.selectedChecker.col,startRow:this.selectedChecker.row,endCol:this.hoverSpace[0],endRow:this.hoverSpace[1]}),2===Math.abs(this.hoverSpace[0]-this.selectedChecker.col)){const a=this._getChecker(this.selectedChecker.row+(this.hoverSpace[1]-this.selectedChecker.row)/2,this.selectedChecker.col+(this.hoverSpace[0]-this.selectedChecker.col)/2);console.log("jump checker"),console.log(a),"b"===a.color?this.board.blacks=this.board.blacks.filter(d=>d.id!==a.id):this.board.reds=this.board.reds.filter(d=>d.id!==a.id)}this.selectedChecker.col=this.hoverSpace[0],this.selectedChecker.row=this.hoverSpace[1],this.board.currentTurn="r"===this.selectedChecker.color?"b":"r",console.log(this.board)}this.hoverSpace=[],this.eligibleSpaces=[],this.selectedChecker=void 0,document.onmouseup=null,document.onmousemove=null};document.ontouchend=m,document.onmouseup=m;const b=l=>{l.preventDefault(),console.log(l.clientX??l.touches[0].clientX),console.log(l.clientY??l.touches[0].clientY),this.selectedCheckerX=Math.min(Math.max((l.clientX??l.touches[0].clientX)-this.offsetLeft-this.checkerSize/2,4),this.boardSizePx-this.checkerSize-4),this.selectedCheckerY=Math.min(Math.max((l.clientY??l.touches[0].clientY)-this.offsetTop-this.checkerSize/2,4),this.boardSizePx-this.checkerSize-4);const a=Math.floor((this.selectedCheckerX+this.checkerSize/2)/this.boardSizePx*this.BOARD_SIZE),d=Math.floor((this.selectedCheckerY+this.checkerSize/2)/this.boardSizePx*this.BOARD_SIZE);this.hoverSpace=[a,d]};document.ontouchmove=b,document.onmousemove=b}_getEligibleSpaces(c){const[o,t,i]=[c.color,c.row,c.col],n=[];if("r"===o){if(t+1<this.BOARD_SIZE&&i-1>=0){const h=this._getChecker(t+1,i-1);h?h.color!==o&&t+2<this.BOARD_SIZE&&i-2>=0&&!this._getChecker(t+2,i-2)&&n.push([t+2,i-2]):n.push([t+1,i-1])}if(t+1<this.BOARD_SIZE&&i+1<this.BOARD_SIZE){const h=this._getChecker(t+1,i+1);h?h.color!==o&&t+2<this.BOARD_SIZE&&i+2<this.BOARD_SIZE&&!this._getChecker(t+2,i+2)&&n.push([t+2,i+2]):n.push([t+1,i+1])}}if("b"===o){if(t-1>=0&&i-1>=0){const h=this._getChecker(t-1,i-1);h?h.color!==o&&t-2>=0&&i-2>=0&&!this._getChecker(t-2,i-2)&&n.push([t-2,i-2]):n.push([t-1,i-1])}if(t-1>=0&&i+1<this.BOARD_SIZE){const h=this._getChecker(t-1,i+1);h?h.color!==o&&t-2>=0&&i+2<this.BOARD_SIZE&&!this._getChecker(t-2,i+2)&&n.push([t-2,i+2]):n.push([t-1,i+1])}}return n}_startNewGame(){let c=1;C.reds.forEach(([o,t])=>{this.board.reds.push({color:"r",id:c++,row:o,col:t})}),C.blacks.forEach(([o,t])=>{this.board.blacks.push({color:"b",id:c++,row:o,col:t})})}_getChecker(c,o){return this.board.reds.find(t=>t.row===c&&t.col===o)??this.board.blacks.find(t=>t.row===c&&t.col===o)}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-checkers"]],viewQuery:function(o,t){if(1&o&&(e.Gf(S,5),e.Gf(x,5)),2&o){let i;e.iGM(i=e.CRH())&&(t.contentRef=i.first),e.iGM(i=e.CRH())&&(t.checkersBoardRef=i.first)}},standalone:!0,features:[e.jDz],decls:18,vars:25,consts:[[1,"w-full","max-w-screen","m-6"],[1,"flex","flex-col","md:flex-row","gap-4"],["content",""],[1,"border","border-white","flex","flex-col","relative",3,"ngStyle"],["checkersBoard",""],[1,"checker","z-20",3,"ngStyle","ngClass"],[1,"checker-top",3,"ngStyle"],["class","z-10 highlight",3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","w-full grow flex flex-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"grow","border"],[1,"flex","flex-col","gap-2","mb-4"],["checkerDisplay",""],[1,"z-10","highlight",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","grow","flex","flex-row",3,"ngClass"],["class","h-full grow relative",3,"id","ngClass",4,"ngFor","ngForOf"],[1,"h-full","grow","relative",3,"id","ngClass"],[1,"checker","z-10",3,"ngStyle","ngClass","mousedown","touchstart"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"span",5),e._UZ(6,"span",6),e.qZA(),e.YNc(7,w,1,6,"span",7)(8,O,2,4,"ng-container",8)(9,v,2,4,"ng-container",8)(10,y,2,4,"div",9),e.qZA(),e.TgZ(11,"div",10)(12,"div",11),e.YNc(13,P,2,1,"p",8),e.TgZ(14,"p"),e._uU(15),e.qZA()()()()(),e.YNc(16,E,2,15,"ng-template",null,12,e.W1O)),2&o&&(e.xp6(3),e.Q6J("ngStyle",e.WLB(10,g,t.boardSizePx,t.boardSizePx)),e.xp6(2),e.Q6J("ngStyle",e.l5B(13,A,t.checkerSize,t.checkerSize,t.selectedCheckerX,t.selectedCheckerY))("ngClass",e.kEZ(18,D,"b"===t.currentTurnColor,"r"===t.currentTurnColor,!t.selectedChecker)),e.xp6(1),e.Q6J("ngStyle",e.WLB(22,g,t.checkerSize,t.checkerSize)),e.xp6(1),e.Q6J("ngForOf",t.eligibleSpaces),e.xp6(1),e.Q6J("ngForOf",t.board.reds),e.xp6(1),e.Q6J("ngForOf",t.board.blacks),e.xp6(1),e.Q6J("ngForOf",t.BOARD_SIZE_ARR),e.xp6(3),e.Q6J("ngForOf",t.board.turns),e.xp6(2),e.Oqu("b"===t.currentTurnColor?"Black's turn":"Red's turn"))},dependencies:[p.ez,p.mk,p.sg,p.tP,p.PC],styles:['.checker[_ngcontent-%COMP%]{position:absolute;border-radius:9999px}.checker[_ngcontent-%COMP%]   .checker-top[_ngcontent-%COMP%]{position:relative;display:block}.checker[_ngcontent-%COMP%]   .checker-top[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8% 0 0 -8%;height:100%;width:100%;border-radius:9999px}.checker.checker-red[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity))}.checker.checker-red[_ngcontent-%COMP%]   .checker-top[_ngcontent-%COMP%]:after{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.checker.checker-black[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}.checker.checker-black[_ngcontent-%COMP%]   .checker-top[_ngcontent-%COMP%]:after{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.highlight[_ngcontent-%COMP%]{background:radial-gradient(circle,rgb(255,255,0) 0%,rgba(255,255,0,0) 50%);position:absolute;display:block;border-radius:9999px;opacity:.5}']})}return r})()}]}}]);